{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Facebook = registerPlugin('Facebook', {\n    web: () => import('./web').then(m => new m.FacebookWeb()),\n});\nexport * from './definitions';\nexport { Facebook };\n//# sourceMappingURL=index.js.map","/* eslint-disable */\nimport { WebPlugin } from '@capacitor/core';\nexport class FacebookWeb extends WebPlugin {\n    async logEvent(options) {\n        window.fbq(options.name, options.valueToSum, options.bundle);\n    }\n    init(options) {\n        return new Promise((resolve) => {\n            window.fbAsyncInit = function () {\n                FB.init({\n                    appId: options.appId,\n                    cookie: true,\n                    xfbml: true,\n                    version: 'v15.0'\n                });\n                FB.AppEvents.logPageView();\n            };\n            if (!document.getElementById('facebook-jssdk')) {\n                var js = document.createElement('script');\n                js.id = 'facebook-jssdk';\n                js.setAttribute('src', \"https://connect.facebook.net/en_US/sdk.js\");\n                js.onload = () => {\n                    resolve();\n                };\n                document.body.appendChild(js);\n            }\n            eval(`!function(f,b,e,v,n,t,s)\n            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n            n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n            n.queue=[];t=b.createElement(e);t.async=!0;\n            t.src=v;s=b.getElementsByTagName(e)[0];\n            s.parentNode.insertBefore(t,s)}(window, document,'script',\n            'https://connect.facebook.net/en_US/fbevents.js');\n            fbq('init', '${options.pixelId}');\n            fbq('track', 'PageView');`);\n        });\n    }\n    async login(options) {\n        // FB.getLoginStatus((response: any) => {\n        //     console.log(response)\n        // });\n        options = options || {};\n        if (!options.scope || options.scope.length === 0) {\n            options.scope = ['public_profile', 'email'];\n        }\n        FB.login((response) => {\n            console.log(response);\n        }, { scope: options.scope.join(',') });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":";;;;;;AACK,MAAC,QAAQ,GAAGA,mBAAc,CAAC,UAAU,EAAE;AAC5C,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;AAC7D,CAAC;;ACHD;AAEO,MAAM,WAAW,SAASC,cAAS,CAAC;AAC3C,IAAI,MAAM,QAAQ,CAAC,OAAO,EAAE;AAC5B,QAAQ,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;AACrE,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK;AACxC,YAAY,MAAM,CAAC,WAAW,GAAG,YAAY;AAC7C,gBAAgB,EAAE,CAAC,IAAI,CAAC;AACxB,oBAAoB,KAAK,EAAE,OAAO,CAAC,KAAK;AACxC,oBAAoB,MAAM,EAAE,IAAI;AAChC,oBAAoB,KAAK,EAAE,IAAI;AAC/B,oBAAoB,OAAO,EAAE,OAAO;AACpC,iBAAiB,CAAC,CAAC;AACnB,gBAAgB,EAAE,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;AAC3C,aAAa,CAAC;AACd,YAAY,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,EAAE;AAC5D,gBAAgB,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC1D,gBAAgB,EAAE,CAAC,EAAE,GAAG,gBAAgB,CAAC;AACzC,gBAAgB,EAAE,CAAC,YAAY,CAAC,KAAK,EAAE,2CAA2C,CAAC,CAAC;AACpF,gBAAgB,EAAE,CAAC,MAAM,GAAG,MAAM;AAClC,oBAAoB,OAAO,EAAE,CAAC;AAC9B,iBAAiB,CAAC;AAClB,gBAAgB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AAC9C,aAAa;AACb,YAAY,IAAI,CAAC,CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,EAAE,OAAO,CAAC,OAAO,CAAC;AAC3C,qCAAqC,CAAC,CAAC,CAAC;AACxC,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,MAAM,KAAK,CAAC,OAAO,EAAE;AACzB;AACA;AACA;AACA,QAAQ,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AAChC,QAAQ,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AAC1D,YAAY,OAAO,CAAC,KAAK,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AACxD,SAAS;AACT,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,QAAQ,KAAK;AAC/B,YAAY,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AAClC,SAAS,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAC/C,KAAK;AACL;;;;;;;;;"}